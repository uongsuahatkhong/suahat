<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chương 6 phần 3</title>
    <!--DƯỚI ĐÂY LÀ PHẦN STYLE CHUNG CHUNG-->
<style type="text/css">
    body{
        font-family: 'Times New Roman', Times, serif;
        font-size: 21px;
        width: 960px;
        margin: 0 auto;
        text-align: justify;
        line-height: 1.5;
    }
    p{
        text-indent: 40px;
    }
</style>
<style>
    @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css");
</style>
<!--TRÊN ĐÂY LÀ PHẦN STYLE CHUNG CHUNG-->


<!--DƯỚI ĐÂY LÀ PHẦN STYLE CHO MỤC HIGHLIGHT-->
<style>
    .highlight-yellow { background-color: rgb(255, 255, 71); }
    .highlight-red { background-color: rgb(132, 230, 255); }
    .highlight-green { background-color: rgb(125, 255, 125); }
    .highlight-popup {
        display: none;
        position: absolute;
        background-color: white;
        border: 1px solid #ccc;
        padding: 10px;
        z-index: 1000;
    }
    .highlight-popup button {
        margin-right: 10px;
    }
</style>
<!--TRÊN ĐÂY LÀ PHẦN STYLE CHO MỤC HIGHLIGHT-->


<!--DƯỚI ĐÂY LÀ PHẦN STYLE CHO MỤC TRẢ LỜI CÂU TƯƠNG TÁC-->
<style>
    #textArea {
        width: 100%;
        height: 200px;
    }
    #saveButton, #clearButton {
        margin-top: 10px;
        margin-right: 10px;
    }
</style>
<!--TRÊN ĐÂY LÀ PHẦN STYLE CHO MỤC TRẢ LỜI CÂU TƯƠNG TÁC-->


<!--DƯỚI ĐÂY LÀ PHẦN STYLE CHO CHÚ THÍCH-->
<style type="text/css">
    a:hover{
            text-decoration: none;
        }
        a[data-tooltip]{
            border-bottom: 1px dotted #333;
            position:relative;
        }
        a[data-tooltip]::before{
            content: attr(data-tooltip);
            position:absolute;
            background: #ffafaf;
            font-size:14px;
            color: black;
            text-align: justify;
            padding: 3px 9px;
            border-radius: 6px;
            width: 250px;
            left: -800%;
            right: -800%;
            bottom: 100%;
            display: none;
        }
    a[data-tooltip]:hover::before{
        display: block;
    }
</style>
<!--TRÊN ĐÂY LÀ PHẦN STYLE CHO CHÚ THÍCH-->


<link rel="stylesheet" href="cssnoidung.css">

<!--DƯỚI ĐÂY LÀ PHẦN STYLE ZOOM ẢNH-->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/photoswipe.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.3/default-skin/default-skin.min.css">
    <style>
        .my-gallery img:hover {
            transform: scale(1.05);
        }
        .my-gallery img {
            /* width: 200px; */
            height: auto;
            margin: 5px;
            cursor: pointer;
        }
    </style>
<!--TRÊN ĐÂY LÀ PHẦN STYLE ZOOM ẢNH-->

</head>

<body id="text" >
    <!--DƯỚI ĐÂY LÀ PHẦN CỦA THANH CHUYỂN TRANG-->
    <div class="thanhphai">
        <a target="_self" href="Chuong6phan4.html"><button id="nut1"><i class="bi bi-arrow-right-circle-fill"></i></button></a>
    </div>
    <div class="thanhtrai">
        <a target="_self" href="Chuong6phan2.html"><button id="nut2"><i class="bi bi-arrow-left-circle-fill"></i></button></a>
    </div>
    <!--TRÊN ĐÂY LÀ PHẦN CỦA THANH CHUYỂN TRANG-->


<!--DƯỚI ĐÂY LÀ PHẦN PHẦN POP UP ĐỂ HIGHLIGHT-->
    <div class="highlight-popup" id="highlight-popup">
        <!-- <p align="center" id="takenote">Ghi chú</p> -->
        <button onclick="highlightText('yellow')" id="notevang"><i class="bi bi-square-fill"></i></button>
        <button onclick="highlightText('red')" id="notedo"><i class="bi bi-square-fill"></i></button>
        <button onclick="highlightText('green')" id="notexanh"><i class="bi bi-square-fill"></i></button>
        <button onclick="removeHighlight()" id="xoanote"><i class="bi bi-eraser-fill"></i></i></button>
    </div>
<!--TRÊN ĐÂY LÀ PHẦN POP UP ĐỂ HIGHLIGHT-->

<!--DƯỚI ĐÂY LÀ PHẦN CHO THANH ĐẦU VÀ CUỐI TRANG-->
<div id="backtop1" class="vecuoitrang" >
    <i onclick="scrollToBottom()" class="bi bi-arrow-down-square-fill"></i>
</div>
<div id="backtop" class="vedautrang">
    <i onclick="scrollToTop()" class="bi bi-arrow-up-square-fill"></i>
</div>
<!--TRÊN ĐÂY LÀ PHẦN CHO THANH ĐẦU VÀ CUỐI TRANG-->
<!--DƯỚI ĐÂY LÀ PHẦN JAVA CHO NÚT BACK TO TOP-->
<script>
    function scrollToTop() {
    window.scrollTo({
        top: 0,
        behavior: 'smooth'
    });
}

function scrollToBottom() {
    window.scrollTo({
        top: document.body.scrollHeight,
        behavior: 'smooth'
    });
}
</script>
<!--TRÊN ĐÂY LÀ PHẦN JAVA CHO NÚT BACK TO TOP-->

<!--DƯỚI ĐÂY LÀ PHẦN JAVA CHO VIỆC HIGHLIGHT-->
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
    loadHighlights();

    document.addEventListener('mouseup', function(e) {
        const selection = window.getSelection();
        if (!selection.rangeCount || selection.isCollapsed) {
            hidePopup();
            return;
        }

        const range = selection.getRangeAt(0);
        const rect = range.getBoundingClientRect();
        showPopup(rect.left + window.scrollX, rect.bottom + window.scrollY);
    });

    document.addEventListener('mousedown', function(e) {
        const popup = document.getElementById('highlight-popup');
        if (!popup.contains(e.target)) {
            hidePopup();
        }
    });
});

function showPopup(x, y) {
    const popup = document.getElementById('highlight-popup');
    popup.style.left = x + 'px';
    popup.style.top = y + 'px';
    popup.style.display = 'block';
}

function hidePopup() {
    const popup = document.getElementById('highlight-popup');
    popup.style.display = 'none';
}

function highlightText(color) {
    const selection = window.getSelection();
    if (!selection.rangeCount) return;

    const range = selection.getRangeAt(0);
    if (range.collapsed) return;

    const span = document.createElement('span');
    span.className = `highlight highlight-${color}`;
    range.surroundContents(span);

    saveHighlights();
    hidePopup();
}

function removeHighlight() {
    const selection = window.getSelection();
    if (!selection.rangeCount) return;

    const range = selection.getRangeAt(0);
    const parentElement = range.commonAncestorContainer.parentElement;

    if (parentElement.classList.contains('highlight')) {
        const parent = parentElement.parentNode;
        while (parentElement.firstChild) {
            parent.insertBefore(parentElement.firstChild, parentElement);
        }
        parent.removeChild(parentElement);
    }

    saveHighlights();
    hidePopup();
}

// Hàm lưu các highlight vào local storage
function saveHighlights() {
    let highlights = document.querySelectorAll('.highlight-yellow, .highlight-green, .highlight-red');
    let highlightData = [];

    highlights.forEach((highlight) => {
        highlightData.push({
            text: highlight.textContent,
            class: highlight.className
        });
    });

    localStorage.setItem('highlights', JSON.stringify(highlightData));
}
// Hàm tải các highlight từ local storage
function loadHighlights() {
    let highlightData = JSON.parse(localStorage.getItem('highlights') || '[]');
    let bodyHtml = document.body.innerHTML;

    highlightData.forEach((highlight) => {
        let tempDiv = document.createElement('div');
        tempDiv.textContent = highlight.text;
        let highlightHtml = `<span class="${highlight.class}">${tempDiv.innerHTML}</span>`;
        bodyHtml = bodyHtml.replace(highlight.text, highlightHtml);
    });
    document.body.innerHTML = bodyHtml;
}

</script>
<!--TRÊN ĐÂY LÀ PHẦN JAVA CHO VIỆC HIGHLIGHT-->

<!--DƯỚI ĐÂY LÀ PHẦN JAVA CHO VIỆC CỦA CÂU HỎI TƯƠNG TÁC-->
<!-- <script>
    document.addEventListener("DOMContentLoaded", function() {
    const textArea = document.getElementById('textArea');
    const saveButton = document.getElementById('saveButton');
    const clearButton = document.getElementById('clearButton');

    // Load the saved text from Local Storage when the page loads
    const savedText = localStorage.getItem('textAreaContent');
    if (savedText) {
        textArea.value = savedText;
    }

    // Save the text to Local Storage when the "Save" button is clicked
    saveButton.addEventListener('click', function() {
        localStorage.setItem('textAreaContent', textArea.value);
        alert('Bạn muốn lưu ghi chép của mình?');
    });

    // Clear the text from Local Storage and the text area when the "Clear" button is clicked
    clearButton.addEventListener('click', function() {
        localStorage.removeItem('textAreaContent');
        textArea.value = '';
        alert('Bạn muốn xóa ghi chép?');
    });
});

</script> -->
<script>
    // Function to save data to local storage
    function saveData(id) {
        const data = document.getElementById(id).value;
        localStorage.setItem(id, data);
        alert('Câu trả lời của bạn đã được lưu!');
    }

    // Function to load data from local storage
    function loadData() {
        const writingAreas = document.querySelectorAll('.writing-area');
        writingAreas.forEach(area => {
            const savedData = localStorage.getItem(area.id);
            if (savedData) {
                area.value = savedData;
            }
        });
    }

    // Load data when the page loads
    window.onload = loadData;
</script>
<!--TRÊN ĐÂY LÀ PHẦN JAVA CHO VIỆC CỦA CÂU HỎI TƯƠNG TÁC-->

<div>
    <p align="center" style="margin-top: 0px; margin-bottom: 10px;; font-size: 30px; font-weight: bold;">&#128366;</p>
    <p align="center" style="margin-top: 0px;"><img src="/fileanhhtml/linbreak.png" width="280px"></p>
</div>
<p>
    <b>Câu 1: Hãy tìm bức ảnh của một người hay một con vật quan trọng trong cuộc đời bạn nhưng giờ đã không còn nữa. Hãy nhìn vào đôi mắt họ. Bạn muốn nói gì với họ?
    <br>Hãy nhìn vào đôi mắt của chính bạn. Bạn có cảm nhận được tâm hồn của mình đang nhìn lại bạn không? Tâm hồn ấy đang phản chiếu con người nào trước mắt bạn?
    </b>
</p>
<textarea id="writingArea1" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea1')">Lưu</button>
<p>
    <b>Câu 2: Mỗi chúng ta mang trong mình một ý niệm thoáng qua về bí ẩn vĩ đại của sự sống. Bỏ sang một bên những liên tưởng tôn giáo, trong cuộc đời mình, đã bao giờ bạn trải nghiệm sự linh thiêng chưa? 
    <br>Bạn có thể gọi đó là Thượng đế, Mẹ Thiên nhiên, Linh hồn Vĩ đại, Khí, Vật lý Lượng tử, hay bất cứ gì, hãy diễn tả khoảnh khắc đó. Bạn có thể miêu tả nó không hay chỉ đoán chừng cái trải nghiệm đó thôi? Bạn dùng vật thể hay hình tượng nào để tượng trưng cho trải nghiệm đó?
    </b>
</p>
<textarea id="writingArea2" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea2')">Lưu</button>
<p>
    <b>Câu 3: Cảm giác choáng ngợp có thể làm gián đoạn những phương thức hoạt động thường lệ của chúng ta, nhắc nhở chúng ta về vẻ đẹp thực sự của cuộc sống. Cho đến thời điểm này, những khoảnh khắc nào là khoảnh khắc “choáng ngợp” trong cuộc đời bạn?
    </b>
</p>
<textarea id="writingArea3" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea3')">Lưu</button>
<p>
    <b>Câu 4: Khi bước vào một nhà thờ kiểu Gothic, mắt bạn thường nhìn lên. Đường nét bên trong kiến trúc đồ sộ này chủ yếu là thẳng đứng, khiến bạn cảm thấy vừa được nâng lên cao, vừa trở nên nhỏ bé trước kích thước khổng lồ của nó. 
    <br>Môi trường tự nhiên hay nhân tạo nào mang bạn đến một chỗ đứng ‘cao hơn”? Dù chỉ là trong tưởng tượng, hãy đưa bản thân đến nơi ấy. Từ tầm nhìn mới đó, cuộc sống của bạn trông như thế nào?
    </b>
</p>
<textarea id="writingArea4" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea4')">Lưu</button>
<p>
    <b>Câu 5: Bạn có sở hữu đồ vật nào mang những “năng lực” tâm linh đặc biệt đối với mình không? Có lẽ, nằm đâu đó trong ngăn kéo là một món đồ có thể khiến bạn cảm thấy được kết nối với một người yêu thương nào đó, hay cảm thấy nó đưa bạn đến một nơi chốn hoặc thời điểm khác chăng?
    </b>
</p>
<textarea id="writingArea5" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea5')">Lưu</button>
<p>
    <b>Câu 6: Đầu tiên, hãy chọn một giai đoạn nghệ thuật đã khơi dậy sự thích thú trong bạn. Ví dụ, bạn có thấy mình muốn tìm hiểu thêm về nghệ thuật của tổ tiên thời tiền sử hay vẻ lộng lẫy của nghệ thuật La Mã có hấp dẫn bạn không? Trào lưu nghệ thuật nào là nổi bật nhất đối với bạn lúc này, và tại sao? 
    </b>
</p>
<textarea id="writingArea6" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea6')">Lưu</button>
<p>
    <b>Câu 7:  Hãy viết về những phản ứng đầu tiên của bạn [đối với tác phẩm]. Điều gì đã khiến bạn dừng lại? Điều gì đã thu giữ ánh mắt bạn? Những suy nghĩ và cảm nhận đầu tiên của bạn là gì? Nó có gợi cho bạn điều gì không? Nó có mang lại những cảm xúc hay sự liên hệ nào đó không?
    </b>
</p>
<textarea id="writingArea7" class="writing-area" placeholder="Nhập câu trả lời của bạn ở đây"></textarea>
<button class="save-button" onclick="saveData('writingArea7')">Lưu</button>